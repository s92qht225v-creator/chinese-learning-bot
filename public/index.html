<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chinese Learning Bot</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // Redirect based on setup completion status
    window.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸ  [index.html] Checking setup status...');
      const setupCompleted = localStorage.getItem('setupCompleted');
      const selectedLanguage = localStorage.getItem('selectedLanguage');
      console.log('ğŸ“¦ [index.html] localStorage:', { setupCompleted, selectedLanguage });

      if (setupCompleted) {
        // User has completed setup, go to main app
        console.log('âœ… [index.html] Setup completed, redirecting to main-app.html');
        window.location.href = '/main-app.html';
      } else if (selectedLanguage) {
        // Language selected, go to level selection
        console.log('ğŸŒ [index.html] Language selected, redirecting to level-select.html');
        window.location.href = '/level-select.html';
      } else {
        // First time user - start with language selection
        console.log('ğŸ†• [index.html] First time, redirecting to language-selection.html');
        window.location.href = '/language-selection.html';
      }
    });
  </script>
</head>
<body>
  <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: sans-serif;">
    <p>Loading...</p>
  </div>
</body>
</html>
