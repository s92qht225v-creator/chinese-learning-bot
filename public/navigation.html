<!-- Bottom Navigation Bar -->
<nav class="fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 safe-area-pb z-50">
  <div class="max-w-screen-xl mx-auto px-2">
    <div class="flex justify-around items-center h-16">
      <!-- Home -->
      <a href="/lessons.html" class="nav-item flex flex-col items-center justify-center flex-1 py-2 transition-colors" data-nav="home">
        <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
        </svg>
        <span class="text-xs font-medium">Home</span>
      </a>
      
      <!-- Learn -->
      <a href="/lessons.html" class="nav-item flex flex-col items-center justify-center flex-1 py-2 transition-colors" data-nav="learn">
        <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 14l9-5-9-5-9 5 9 5z"></path>
          <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"></path>
        </svg>
        <span class="text-xs font-medium">Learn</span>
      </a>
      
      <!-- Practice -->
      <a href="#" class="nav-item flex flex-col items-center justify-center flex-1 py-2 transition-colors" data-nav="practice">
        <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
        </svg>
        <span class="text-xs font-medium">Practice</span>
      </a>
      
      <!-- Profile -->
      <a href="#" class="nav-item flex flex-col items-center justify-center flex-1 py-2 transition-colors" data-nav="profile">
        <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        <span class="text-xs font-medium">Profile</span>
      </a>
    </div>
  </div>
</nav>

<style>
  .safe-area-pb {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .nav-item {
    color: #6b7280;
    text-decoration: none;
  }
  
  .nav-item:hover {
    color: #4A90E2;
  }
  
  .nav-item.active {
    color: #4A90E2;
  }
  
  .nav-item.active svg {
    color: #4A90E2;
  }
</style>

<script>
  // Highlight active nav item based on current page
  document.addEventListener('DOMContentLoaded', () => {
    const currentPath = window.location.pathname;
    const navItems = document.querySelectorAll('.nav-item');
    
    navItems.forEach(item => {
      const href = item.getAttribute('href');
      if (currentPath.includes(href) || 
          (currentPath.includes('lessons') && item.dataset.nav === 'learn') ||
          (currentPath.includes('lesson.html') && item.dataset.nav === 'learn')) {
        item.classList.add('active');
      }
      
      // Haptic feedback on click
      item.addEventListener('click', () => {
        if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.HapticFeedback) {
          window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
        }
      });
    });
  });
</script>
